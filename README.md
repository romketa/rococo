<br>
<img src="img/rococo.png" width="250">

# üé® Rococo

#### üöÄ Rococo ‚Äî —ç—Ç–æ –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ, –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω–Ω–æ–µ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∫–∞—Ä—Ç–∏–Ω–∞–º–∏, –∏—Ö –∞–≤—Ç–æ—Ä–∞–º–∏ –∏ –º—É–∑–µ—è–º–∏. –ü—Ä–æ–µ–∫—Ç –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç —É–¥–æ–±–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –∫–∞—Ç–∞–ª–æ–≥–∏–∑–∞—Ü–∏–∏ —Ö—É–¥–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö –ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–π, –∞ —Ç–∞–∫–∂–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –æ–± –∏–∑–≤–µ—Å—Ç–Ω—ã—Ö —Ö—É–¥–æ–∂–Ω–∏–∫–∞—Ö –∏ –∏—Ö —Ä–∞–±–æ—Ç–∞—Ö.
–° –ø–æ–º–æ—â—å—é Rococo –º–æ–∂–Ω–æ:
 - –î–æ–±–∞–≤–ª—è—Ç—å, —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –∏ —É–¥–∞–ª—è—Ç—å –∫–∞—Ä—Ç–∏–Ω—ã.
 - –£–ø—Ä–∞–≤–ª—è—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –æ–± –∞–≤—Ç–æ—Ä–∞—Ö, —Å–≤—è–∑—ã–≤–∞—è –∏—Ö —Å –ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è–º–∏ –∏—Å–∫—É—Å—Å—Ç–≤–∞.
 - –û—Ä–≥–∞–Ω–∏–∑–æ–≤—ã–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –æ –º—É–∑–µ—è—Ö –∏ –≤—ã—Å—Ç–∞–≤–∫–∞—Ö.

–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —É–¥–æ–±–Ω—ã–π –ø–æ–∏—Å–∫ –∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—é –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞ –∫ –Ω—É–∂–Ω—ã–º –¥–∞–Ω–Ω—ã–º.

–ü—Ä–æ–µ–∫—Ç —Å–æ–∑–¥–∞–Ω —Å —Ü–µ–ª—å—é —É–ø—Ä–æ—â–µ–Ω–∏—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∫–æ–ª–ª–µ–∫—Ü–∏—è–º–∏ –∫–∞—Ä—Ç–∏–Ω –∏ –±—É–¥–µ—Ç –ø–æ–ª–µ–∑–µ–Ω –∫–∞–∫ –¥–ª—è –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª–æ–≤, —Ç–∞–∫ –∏ –¥–ª—è –ª—é–±–∏—Ç–µ–ª–µ–π –∏—Å–∫—É—Å—Å—Ç–≤–∞.

## –û–≥–ª–∞–≤–ª–µ–Ω–∏–µ
 
 - [–ò—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏](#techology)
 - [–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è](#architecture)
 - [–°–ø–∏—Å–æ–∫ –ø–æ—Ä—Ç–æ–≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è](#application-ports)
 - [–ó–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –ª–æ–∫–∞–ª—å–Ω–æ –≤ IDE](#local-boot)
 - [–ó–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –≤ Docker](#docker-boot)
 - [–ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤ –ª–æ–∫–∞–ª—å–Ω–æ](#local-test-run)
 - [–ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤ –≤ Docker](#docker-test-run)
 - [–ü—Ä–∏–º–µ—Ä –æ—Ç—á–µ—Ç–∞ Allure](#allure-report-example)

<a name="techology"></a>
## –ò—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

- [Spring Authorization Server](https://spring.io/projects/spring-authorization-server)
- [Spring OAuth 2.0 Resource Server](https://docs.spring.io/spring-security/reference/servlet/oauth2/resource-server/index.html)
- [Spring data JPA](https://spring.io/projects/spring-data-jpa)
- [Spring Web](https://docs.spring.io/spring-framework/docs/current/reference/html/web.html#spring-web)
- [Spring GRPC](https://docs.spring.io/spring-grpc/reference/index.html)
- [Spring actuator](https://docs.spring.io/spring-boot/docs/current/reference/html/actuator.html)
- [Spring web-services](https://docs.spring.io/spring-ws/docs/current/reference/html/)
- [Apache Kafka](https://developer.confluent.io/quickstart/kafka-docker/)
- [Docker](https://www.docker.com/resources/what-container/)
- [Docker-compose](https://docs.docker.com/compose/)
- [MySQL](https://www.mysql.com/about/)
- [Svelte](https://ru.reactjs.org/docs/getting-started.html)
- [Jakarta Bean Validation](https://beanvalidation.org/)
- [Jakarta JAXB](https://eclipse-ee4j.github.io/jaxb-ri/)
- [JUnit 5 (Extensions, Resolvers, etc)](https://junit.org/junit5/docs/current/user-guide/)
- [Retrofit 2](https://square.github.io/retrofit/)
- [Allure](https://docs.qameta.io/allure/)
- [Selenide](https://selenide.org/)
- [Selenoid & Selenoid-UI](https://aerokube.com/selenoid/latest/)
- [Allure-docker-service](https://github.com/fescobar/allure-docker-service)
- [Java 21](https://adoptium.net/en-GB/temurin/releases/)
- [GHA](https://docs.github.com/en/actions)
- –ò –º–Ω–æ–≥–∏–µ –¥—Ä—É–≥–∏–µ

<a name="architecture"></a>
## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ Rococo —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–Ω–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã, –≥–¥–µ –∫–∞–∂–¥—ã–π —Å–µ—Ä–≤–∏—Å –≤—ã–ø–æ–ª–Ω—è–µ—Ç —Å–≤–æ—é —É–Ω–∏–∫–∞–ª—å–Ω—É—é —Ä–æ–ª—å:

- **auth** ‚Äî –æ—Ç–≤–µ—á–∞–µ—Ç –∑–∞ –ø—Ä–æ—Ü–µ—Å—Å –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ –∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π.
- **gateway** ‚Äî —è–≤–ª—è–µ—Ç—Å—è —Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω–æ–π —Ç–æ—á–∫–æ–π –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∫–ª–∏–µ–Ω—Ç—Å–∫–∏—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ –∏ –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–∏ –∏—Ö –∫ –Ω—É–∂–Ω—ã–º –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–∞–º.
- **userdata** ‚Äî —Ö—Ä–∞–Ω–∏—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è—Ö, —Ç–∞–∫—É—é –∫–∞–∫ —é–∑–µ—Ä–Ω–µ–π–º, –∏–º—è, —Ñ–∞–º–∏–ª–∏—è –∏ –∞–≤–∞—Ç–∞—Ä.
- **country**  ‚Äî –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –¥–∞–Ω–Ω—ã–µ –æ —Å—Ç—Ä–∞–Ω–∞—Ö.
- **museum** ‚Äî —É–ø—Ä–∞–≤–ª—è–µ—Ç —Å–≤–µ–¥–µ–Ω–∏—è–º–∏ –æ –º—É–∑–µ—è—Ö.
- **artist** ‚Äî —Ö—Ä–∞–Ω–∏—Ç –¥–∞–Ω–Ω—ã–µ –æ —Ö—É–¥–æ–∂–Ω–∏–∫–∞—Ö.
- **painting** ‚Äî —Å–æ–¥–µ—Ä–∂–∏—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –∫–∞—Ä—Ç–∏–Ω–∞—Ö.
- **frontend** ‚Äî –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å, —Å –∫–æ—Ç–æ—Ä—ã–º –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤—É—é—Ç –∫–æ–Ω–µ—á–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏.
- **kafka-log** - –≤—ã–ø–æ–ª–Ω—è–µ—Ç —Ä–æ–ª—å Consumer'–∞, –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏—è –æ—Ç —Å–µ—Ä–≤–∏—Å–æ–≤ –∏ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –≤ –æ—Ç–¥–µ–ª—å–Ω—É—é –±–∞–∑—É —Å–æ–±—ã—Ç–∏—è –ø–æ –¥–æ–±–∞–≤–ª–µ–Ω–∏—é –∏–ª–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—é —Å—É—â–Ω–æ—Å—Ç–µ–π

–í—Å–µ –∑–∞–ø—Ä–æ—Å—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –Ω–∞–ø—Ä–∞–≤–ª—è—é—Ç—Å—è —á–µ—Ä–µ–∑ auth –∏ gateway, –∫–æ—Ç–æ—Ä—ã–µ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç –∏—Ö —á–µ—Ä–µ–∑ REST API. –ü—Ä–æ—á–∏–µ –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å—ã —Å–∫—Ä—ã—Ç—ã –æ—Ç –ø—Ä—è–º–æ–≥–æ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º.

–ú–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å—ã –æ–±—â–∞—é—Ç—Å—è –º–µ–∂–¥—É —Å–æ–±–æ–π —á–µ—Ä–µ–∑ GRPC, –ø—Ä–∏ —ç—Ç–æ–º gateway –ø–µ—Ä–µ–¥–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –∏–∑ auth-—Å–µ—Ä–≤–∏—Å–∞ –∏ –Ω–µ —Ä–∞—Å–∫—Ä—ã–≤–∞–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è—Ö –¥—Ä—É–≥–∏–º —Å–µ—Ä–≤–∏—Å–∞–º, –æ–±–µ—Å–ø–µ—á–∏–≤–∞—è —Ç–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –∏ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏.

–¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º, –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –ø–æ–∑–≤–æ–ª—è–µ—Ç –ª–µ–≥–∫–æ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞—Ç—å –∏ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å —Å–∏—Å—Ç–µ–º—É, —Ä–∞–∑–¥–µ–ª—è—è –¥–∞–Ω–Ω—ã–µ –∏ –ø—Ä–æ—Ü–µ—Å—Å—ã –ø–æ –æ—Ç–¥–µ–ª—å–Ω—ã–º —Å–µ—Ä–≤–∏—Å–∞–º, –∫–∞–∂–¥—ã–π –∏–∑ –∫–æ—Ç–æ—Ä—ã—Ö —Ñ–æ–∫—É—Å–∏—Ä—É–µ—Ç—Å—è –Ω–∞ —Å–≤–æ–µ–π –∑–∞–¥–∞—á–µ.

![architecture.png](img%2Farchitecture.png)

<a name="application-ports"></a>
## –°–ø–∏—Å–æ–∫ –ø–æ—Ä—Ç–æ–≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

|  –°–µ—Ä–≤–∏—Å   |     –ü–æ—Ä—Ç      |
|:---------:|:-------------:|
|   AUTH    | 9000 (server) |
|  GATEWAY  | 8080 (server) |
|  ARTIST   |  8091 (grpc)  |
|  MUSEUM   |  8093 (grpc)  |
| PAINTING  |  8094 (grpc)  |
|  COUNTRY  |  8092 (grpc)  |
| USERDATA  |  8089 (grpc)  |
| FRONTEND  |  80 (server)  |
| KAFKA-LOG | 8095 (server) |

<a name="local-boot"></a>
## –ó–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –ª–æ–∫–∞–ª—å–Ω–æ –≤ IDE
### 1. –£—Å–ª–æ–≤–∏—è –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ –∑–∞–ø—É—Å–∫–∞:
- –ï—Å–ª–∏ —É –≤–∞—Å Windows, —Ç–æ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å bash —Ç–µ—Ä–º–∏–Ω–∞–ª, –Ω–∞–ø—Ä–∏–º–µ—Ä [Git Bash](https://gitforwindows.org/)
- –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω–∞—è Java 21
- –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –ø–∞–∫–µ—Ç–Ω—ã–π –º–µ–Ω–µ–¥–∂–µ—Ä npm <br>
[Installation](https://docs.npmjs.com/downloading-and-installing-node-js-and-npm)
- –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –¥–æ–∫–µ—Ä <br>
[Installation](https://docs.docker.com/engine/install/)
- –°–ø—É–ª–ª–∏—Ç—å –Ω—É–∂–Ω—ã–µ –∏–º–µ–π–¥–∂–∏
```posh
$ docker pull mysql:8.0
$ docker pull confluentinc/cp-kafka:7.3.2
$ docker pull confluentinc/cp-zookeeper:7.3.2
```
- –°–æ–∑–¥–∞—Ç—å volume –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –∏–∑ –ë–î –≤ docker –Ω–∞ –≤–∞—à–µ–º –∫–æ–º–ø—å—é—Ç–µ—Ä–µ
```posh
$ docker volume create mysql-data
```
### 2. –ó–∞–ø—É—Å–∫ –¥–æ–∫–µ—Ä-–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤ –¥–ª—è –∑–∞–ø—É—Å–∫–∞ —Å–µ—Ä–≤–∏—Å–æ–≤ –∏ —Å—Ç–∞—Ä–∞—Ç —Ç–µ—Å—Ç–æ–≤
–í—ã–ø–æ–ª–Ω–∏—Ç—å —Å–∫—Ä–∏–ø—Ç localenv.sh –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞
 ```posh
$ bash localenv.sh
```
–∏–ª–∏ –≤—ã–ø–æ–ª–Ω–∏—Ç—å –ø–æ–æ—á–µ—Ä–µ–¥–Ω–æ –∫–æ–º–∞–Ω–¥—ã
```posh
$ docker run --name rococo-db -p 3306:3306 -e MYSQL_ROOT_PASSWORD=secret -v mysql-data:/var/lib/mysql -d mysql:8.0
$ docker run --name=zookeeper -e ZOOKEEPER_CLIENT_PORT=2181 -p 2181:2181 -d confluentinc/cp-zookeeper:7.3.2
$ docker docker run --name=kafka -e KAFKA_BROKER_ID=1 \
    -e KAFKA_ZOOKEEPER_CONNECT=$(docker inspect zookeeper --format='{{ .NetworkSettings.IPAddress }}'):2181 \
    -e KAFKA_ADVERTISED_LISTENERS=PLAINTEXT://localhost:9092 \
    -e KAFKA_OFFSETS_TOPIC_REPLICATION_FACTOR=1 \
    -e KAFKA_TRANSACTION_STATE_LOG_MIN_ISR=1 \
    -e KAFKA_TRANSACTION_STATE_LOG_REPLICATION_FACTOR=1 \
    -p 9092:9092 -d confluentinc/cp-kafka:7.3.2

cd rococo-client
npm i
npm run dev
```
–°—Ä–∞–∑—É –ø–æ—Å–ª–µ —Å—Ç–∞—Ä—Ç—É–µ—Ç frontend –Ω–∞ –ø–æ—Ä—Ç—É 3000, –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ http://127.0.0.1:3000/

### 2. –ü—Ä–æ–ø–∏—Å–∞—Ç—å –≤ Run –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –ø—Ä–æ—Ñ–∏–ª—å local
–î–ª—è —ç—Ç–æ–≥–æ –∑–∞–π—Ç–∏ –≤ –º–µ–Ω—é Run -> Edit Configurations -> –≤—ã–±—Ä–∞—Ç—å main –∫–ª–∞—Å—Å -> –¥–æ–±–∞–≤–∏—Ç—å VM options -Dspring.profiles.active=local. –ò —Ç–∞–∫ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Å–µ—Ä–≤–∏—Å–∞
![img.png](img/img.png)

–õ–∏–±–æ –ø–µ—Ä–µ–π—Ç–∏ –∫ main-–∫–ª–∞—Å—Å—É –∫–∞–∂–¥–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è -> –∫–ª–∏–∫–Ω—É—Ç—å –ø–æ –º–µ—Ç–æ–¥—É –ü–ö–ú -> –≤—ã–±—Ä–∞—Ç—å More Run/Debug -> Modify Run Configuration -> –¥–æ–±–∞–≤–∏—Ç—å VM options -Dspring.profiles.active=local.

### 3. –ó–∞–ø—É—Å—Ç–∏—Ç—å –≤—Å–µ —Å–µ—Ä–≤–∏—Å—ã
–ü–µ—Ä–≤—ã–º –Ω—É–∂–Ω–æ –∑–∞–ø—É—Å—Ç–∏—Ç—å `Auth` –∏ `Gateway`, –∞ —É–∂–µ –ø–æ—Å–ª–µ –º–æ–∂–Ω–æ –∑–∞–ø—É—Å—Ç–∏—Ç—å –≤—Å–µ –æ—Å—Ç–∞–ª—å–Ω—ã–µ - `Artist`, `Country`, `Museum`, `Userdata`, `Painting`, `kafka-log`

–ó–∞–ø—É—Å—Ç–∏—Ç—å –º–æ–∂–Ω–æ –∫–æ–º–∞–Ω–¥–æ–π Run –≤ IDE

<a name="docker-boot"></a>
## –ó–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –≤ Docker
#### 1. –°–æ–∑–¥–∞—Ç—å –±–µ—Å–ø–ª–∞—Ç–Ω—É—é —É—á–µ—Ç–Ω—É—é –∑–∞–ø–∏—Å—å –Ω–∞ https://hub.docker.com/ (–µ—Å–ª–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç)
#### 2. –°–æ–∑–¥–∞—Ç—å –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö —Å–≤–æ–µ–π —É—á–µ—Ç–Ω–æ–π –∑–∞–ø–∏—Å–∏ access_token [–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è](https://docs.docker.com/docker-hub/access-tokens/).
#### 3. –í—ã–ø–æ–ª–Ω–∏—Ç—å docker login —Å —Å–æ–∑–¥–∞–Ω–Ω—ã–º access_token (–≤ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ —ç—Ç–æ –æ–ø–∏—Å–∞–Ω–æ)
#### 4. –ü—Ä–æ–ø–∏—Å–∞—Ç—å –≤ etc/hosts —ç–ª–∏–∞—Å –¥–ª—è Docker-–∏–º–µ–Ω–∏

        frontend:  127.0.0.1 frontend.rococo.dc,
        auth:      127.0.0.1 auth.rococo.dc
        gateway:   127.0.0.1 gateway.rococo.dc

–î–ª—è *nix:
```posh
$ vi /etc/hosts
```
```posh
127.0.0.1       localhost
127.0.0.1       frontend.rococo.dc
127.0.0.1       auth.rococo.dc
127.0.0.1       gateway.rococo.dc
```
–í windows —Ñ–∞–π–ª hosts –ª–µ–∂–∏—Ç –ø–æ –ø—É—Ç–∏:
```
C:\Windows\System32\drivers\etc\hosts
```

#### 5. –ü–µ—Ä–µ–π—Ç–∏ –≤ –∫–æ—Ä–Ω–µ–≤–æ–π –∫–∞—Ç–∞–ª–æ–≥ –ø—Ä–æ–µ–∫—Ç–∞ –∏ –∑–∞–ø—É—Å—Ç–∏—Ç—å –≤—Å–µ —Å–µ—Ä–≤–∏—Å—ã

```posh
$ bash docker-compose-dev.sh
```
–¢–µ–∫—É—â–∞—è –≤–µ—Ä—Å–∏—è docker-compose-dev.sh —É–¥–∞–ª–∏—Ç –≤—Å–µ —Å—Ç–∞—Ä—ã–µ Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –≤ —Å–∏—Å—Ç–µ–º–µ, –ø–æ—ç—Ç–æ–º—É –µ—Å–ª–∏ —É –í–∞—Å –µ—Å—Ç—å —Å–æ–∑–¥–∞–Ω–Ω—ã–µ
–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –¥–ª—è –¥—Ä—É–≥–∏—Ö –ø—Ä–æ–µ–∫—Ç–æ–≤ - –æ—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ —Å—Ç—Ä–æ–∫—É ```posh docker rm $(docker ps -a -q)```, —á—Ç–æ–±—ã –≤–∫–ª—é—á–∏—Ç—å –≤ grep
—Ç–æ–ª—å–∫–æ —Ç–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã, –∫–æ—Ç–æ—Ä—ã–µ –æ—Ç–Ω–æ—Å—è—Ç—Å—è –∫ rococo.

Rococo –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ –≤ –¥–æ–∫–µ—Ä–µ –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –¥–ª—è –í–∞—Å –ø–æ –∞–¥—Ä–µ—Å—É http://frontend.rococo.dc

<a name="local-test-run"></a>
## –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤ –ª–æ–∫–∞–ª—å–Ω–æ

**–û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ! –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –≤ —Ç—Ä–∏ –ø–æ—Ç–æ–∫–∞. –ò–∑–º–µ–Ω–∏—Ç—å —á–∏—Å–ª–æ –ø–æ—Ç–æ–∫–æ–≤ –º–æ–∂–Ω–æ –≤
—Ñ–∞–π–ª–µ [junit-platform.properties](rococo-tests%2Fsrc%2Ftest%2Fresources%2Fjunit-platform.properties)**

1. –ó–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ª–æ–∫–∞–ª—å–Ω–æ –∏ –∑–∞–ø—É—Å—Ç–∏—Ç—å —Ç–µ—Å—Ç—ã –∏–∑ –∫–æ—Ä–Ω—è –ø—Ä–æ–µ–∫—Ç–∞
```posh
$ ./gradlew :rococo-tests:clean test
```

2. –ü–æ—Å–ª–µ –ø—Ä–æ–≥–æ–Ω–∞ —Ç–µ—Å—Ç–æ–≤ –∑–∞–ø—É—Å—Ç–∏—Ç—å —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—Ç—á—ë—Ç–∞ –∫–æ–º–∞–Ω–¥–æ–π:
```posh
$ ./gradlew :rococo-tests:allureServe
```

<a name="docker-test-run"></a>
## –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤ –≤ –¥–æ–∫–µ—Ä–µ

1. –î–æ–±–∞–≤–∏—Ç—å –≤ —Ñ–∞–π–ª hosts —Å—Ç—Ä–æ–∫–∏ (–∫–∞–∫ —Ä–∞–±–æ—Ç–∞—Ç—å —Å —Ñ–∞–π–ª–æ–º hosts –æ–ø–∏—Å–∞–Ω–æ –≤ –ø—É–Ω–∫—Ç–µ [–ü—Ä–æ–ø–∏—Å–∞—Ç—å –≤ etc/hosts —ç–ª–∏–∞—Å –¥–ª—è Docker-–∏–º–µ–Ω–∏](#hosts)):

<b>127.0.0.1 allure</b>
<b>127.0.0.1 selenoid</b>

–ò—Ç–æ–≥–æ–≤—ã–π —Ñ–∞–π–ª hosts –¥–æ–ª–∂–µ–Ω –≤—ã–≥–ª—è–¥–µ—Ç—å —Å–ª–µ–¥—É—é—â–∏–º –æ–±—Ä–∞–∑–æ–º:

```posh
127.0.0.1       localhost
127.0.0.1       frontend.rococo.dc
127.0.0.1       auth.rococo.dc
127.0.0.1       gateway.rococo.dc
127.0.0.1       allure
127.0.0.1       selenoid
```

1. –ó–∞–ø—É—Å—Ç–∏—Ç—å —Å–∫—Ä–∏–ø—Ç:
```posh
$ bash docker-compose-tests.sh
```

2. –ü–æ—Å–ª–µ —Ç–æ–≥–æ, –∫–∞–∫ –≤—Å–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã —É—Å–ø–µ—à–Ω–æ —Å–æ–±–µ—Ä—É—Ç—Å—è –∏ –∑–∞–ø—É—Å—Ç—è—Ç—Å—è - –ø–µ—Ä–µ–∫–ª—é—á–∏—Ç—å—Å—è –Ω–∞ –ª–æ–≥–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ rococo-tests –∫–æ–º–∞–Ω–¥–æ–π:
```posh
$ docker logs -f rococo-tests
```

3. –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã –∑–∞–ø—É—Å–∫–∞
   
–ú–æ–∂–Ω–æ –≤—ã–±—Ä–∞—Ç—å –±—Ä–∞—É–∑–µ—Ä, –ø–µ—Ä–µ–¥–∞–≤ –µ–≥–æ –Ω–∞–∑–≤–∞–Ω–∏–µ (chrome –∏–ª–∏ firefox) –≤ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞—Ö –∫–æ–º–∞–Ω–¥—ã (–≥–ª–∞–≤–Ω–æ–µ –ø–∏—Å–∞—Ç—å –Ω–∞–∑–≤–∞–Ω–∏–µ –±—Ä–∞—É–∑–µ—Ä–∞ –±–æ–ª—å—à–∏–º–∏ –±—É–∫–≤–∞–º–∏):
```posh
bash docker-compose-test.sh CHROME
bash docker-compose-test.sh FIREFOX
```
–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é, –µ—Å–ª–∏ –Ω–µ –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å –≤ –∫–æ–º–∞–Ω–¥–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –±—Ä–∞—É–∑–µ—Ä–∞, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è CHROME.

–ï—Å–ª–∏ –ø–µ—Ä–µ–¥–∞—Ç—å —Ñ–ª–∞–≥ tests-only —Ç–æ —Ä–µ—Å—Ç–∞—Ä—Ç–∞–Ω—É—Ç (—É–¥–∞–ª—è—Ç—Å—è –∏ —É—Å—Ç–∞–Ω–æ–≤—è—Ç—Å—è —Å –Ω—É–ª—è) —Ç–æ–ª—å–∫–æ —Ç–µ—Å—Ç–æ–≤—ã–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã (rococo-tests, allure, allure-ui, selenoid, selenoid-ui)

```posh
bash docker-compose-tests.sh --tests-only
bash docker-compose-tests.sh FIREFOX --tests-only - —Ç–µ—Å—Ç—ã –∑–∞–ø—É—Å—Ç—è—Ç—Å—è –Ω–∞ –±—Ä–∞—É–∑–µ—Ä–µ firefox 
```

–ï—Å–ª–∏ –ø–µ—Ä–µ–¥–∞—Ç—å —Ñ–ª–∞–≥ rococo-tests-only —Ç–æ —Ä–µ—Å—Ç–∞—Ä—Ç–∞–Ω—É—Ç (—É–¥–∞–ª—è—Ç—Å—è –∏ —É—Å—Ç–∞–Ω–æ–≤—è—Ç—Å—è —Å –Ω—É–ª—è) —Ç–æ–ª—å–∫–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä —Å —Ç–µ—Å—Ç–∞–º–∏ (rococo-tests). –ü—Ä–∏–≥–æ–¥–∏—Ç—Å—è –µ—Å–ª–∏ —Ö–æ—á–µ—Ç—Å—è —Ö—Ä–∞–Ω–∏—Ç—å –∏—Å—Ç–æ—Ä–∏—é –∑–∞–ø—É—Å–∫–∞ —Ç–µ—Å—Ç–æ–≤ –≤ –∞–ª–ª—é—Ä–µ
```posh
bash docker-compose-tests.sh --rococo-tests-only
bash docker-compose-tests.sh FIREFOX --rococo-tests-only - —Ç–µ—Å—Ç—ã –∑–∞–ø—É—Å—Ç—è—Ç—Å—è –Ω–∞ –±—Ä–∞—É–∑–µ—Ä–µ firefox
```
<a name="allure-report-example"></a>
## –ü—Ä–∏–º–µ—Ä –æ—Ç—á–µ—Ç–∞ Allure

–í —Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ –º–æ–∂–Ω–æ –≤–∏–¥–µ—Ç—å –∫—Ä–∞—Å–∏–≤—ã–π –æ—Ç—á–µ—Ç Allure –ø–æ [—Å—Å—ã–ª–∫–µ](http://allure:5252/allure-docker-service-ui/project/romketa-rococo)

![allure1.png](img%2Fallure1.png)
![allure2.png](img%2Fallure2.png)
![allure3.png](img%2Fallure3.png)